<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/base}">
<head>
    <title>Tournament Hub - BTMS</title>
    
    <!-- Page-specific CSS -->
    <th:block layout:fragment="page-css">
        <link rel="stylesheet" th:href="@{/css/tournament/tournament-home.css}">
    </th:block>
</head>

<body>
    <div layout:fragment="content" class="tournament-home-page">
        
        <!-- Hero Section -->
        <section class="hero-section">
            <div class="container">
                <div class="hero-content" data-aos="fade-up">
                    <h1 class="hero-title">
                        <i class="bi bi-trophy-fill"></i>
                        Trung t√¢m Gi·∫£i ƒë·∫•u C·∫ßu l√¥ng
                    </h1>
                    <p class="hero-subtitle">
                        Kh√°m ph√°, ƒëƒÉng k√Ω v√† theo d√µi c√°c gi·∫£i ƒë·∫•u c·∫ßu l√¥ng chuy√™n nghi·ªáp
                    </p>
                    
                    <!-- Quick Search & Filters -->
                    <div class="search-filter-bar">
                        <div class="search-box-wrapper">
                            <div class="search-box">
                                <i class="bi bi-search"></i>
                                <input type="text" placeholder="T√¨m ki·∫øm gi·∫£i ƒë·∫•u..." id="quickSearch" autocomplete="off">
                                <button class="search-clear" id="searchClear" style="display: none;">
                                    <i class="bi bi-x-circle-fill"></i>
                                </button>
                            </div>
                            <!-- Autocomplete Dropdown -->
                            <div class="autocomplete-dropdown" id="autocompleteDropdown" style="display: none;">
                                <div class="autocomplete-loading" id="autocompleteLoading">
                                    <div class="spinner-border spinner-border-sm" role="status">
                                        <span class="visually-hidden">Loading...</span>
                                    </div>
                                    <span>ƒêang t√¨m ki·∫øm...</span>
                                </div>
                                <div class="autocomplete-results" id="autocompleteResults"></div>
                                <div class="autocomplete-footer">
                                    <span class="autocomplete-hint">
                                        <kbd>‚Üë</kbd><kbd>‚Üì</kbd> ƒë·ªÉ di chuy·ªÉn, <kbd>Enter</kbd> ƒë·ªÉ ch·ªçn, <kbd>Esc</kbd> ƒë·ªÉ ƒë√≥ng
                                    </span>
                                </div>
                            </div>
                        </div>
                        <div class="quick-filters">
                            <a th:href="@{/tournaments/list(status='ongoing')}" 
                               class="filter-chip live" 
                               data-filter="ongoing">
                                <i class="bi bi-broadcast"></i> ƒêang di·ªÖn ra
                            </a>
                            <a th:href="@{/tournaments/list(status='upcoming')}" 
                               class="filter-chip upcoming" 
                               data-filter="upcoming">
                                <i class="bi bi-calendar-event"></i> S·∫Øp di·ªÖn ra
                            </a>
                            <a th:href="@{/tournaments/list(status='registration')}" 
                               class="filter-chip registration" 
                               data-filter="registration">
                                <i class="bi bi-pencil-square"></i> ƒêang m·ªü ƒëƒÉng k√Ω
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Quick Stats Dashboard -->
        <section class="stats-dashboard">
            <div class="container">
                <div class="stats-grid" data-aos="fade-up">
                    <div class="stat-card">
                        <div class="stat-icon active">
                            <i class="bi bi-play-circle-fill"></i>
                        </div>
                        <div class="stat-info">
                            <div class="stat-value" th:text="${quickStats.active}">15</div>
                            <div class="stat-label">Gi·∫£i ƒëang di·ªÖn ra</div>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-icon upcoming">
                            <i class="bi bi-calendar-check"></i>
                        </div>
                        <div class="stat-info">
                            <div class="stat-value" th:text="${quickStats.upcoming}">23</div>
                            <div class="stat-label">Gi·∫£i s·∫Øp t·ªõi</div>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-icon registration">
                            <i class="bi bi-pencil-square"></i>
                        </div>
                        <div class="stat-info">
                            <div class="stat-value" th:text="${quickStats.registration}">8</div>
                            <div class="stat-label">ƒêang m·ªü ƒëƒÉng k√Ω</div>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-icon participants">
                            <i class="bi bi-people-fill"></i>
                        </div>
                        <div class="stat-info">
                            <div class="stat-value" th:text="${quickStats.participants}">1,234</div>
                            <div class="stat-label">V·∫≠n ƒë·ªông vi√™n</div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Featured Tournaments -->
        <section class="featured-section">
            <div class="container">
                <div class="section-header" data-aos="fade-up">
                    <h2 class="section-title">
                        <i class="bi bi-star-fill"></i>
                        Gi·∫£i ƒë·∫•u N·ªïi b·∫≠t
                    </h2>
                    <a th:href="@{/tournaments/list}" class="view-all-link">
                        Xem t·∫•t c·∫£ <i class="bi bi-arrow-right"></i>
                    </a>
                </div>
                
                <!-- Hi·ªÉn th·ªã danh s√°ch gi·∫£i ƒë·∫•u n·ªïi b·∫≠t -->
                <div class="featured-grid" th:if="${!featuredTournaments.isEmpty()}">
                    <div class="featured-card" 
                         th:each="tournament : ${featuredTournaments}"
                         data-aos="fade-up"
                         th:attr="data-aos-delay=${tournamentStat.index * 100}">
                        <div class="featured-image">
                            <img th:src="${tournament.hinhAnh}" 
                                 th:alt="${tournament.tenGiai}">
                            <div class="featured-badge" 
                                 th:classappend="${tournament.trangThai}"
                                 th:text="${tournament.trangThai == 'ongoing' ? 'ƒêANG DI·ªÑN RA' : 
                                          (tournament.trangThai == 'upcoming' ? 'S·∫ÆP DI·ªÑN RA' : 
                                          (tournament.trangThai == 'registration' ? 'M·ªû ƒêƒÇNG K√ù' : 'ƒê√É K·∫æT TH√öC'))}">
                            </div>
                        </div>
                        <div class="featured-content">
                            <h3 class="featured-title" th:text="${tournament.tenGiai}">Gi·∫£i ƒë·∫•u</h3>
                            <div class="featured-meta">
                                <span class="meta-item">
                                    <i class="bi bi-calendar3"></i>
                                    <span th:text="${tournament.ngayBatDau} + ' - ' + ${tournament.ngayKetThuc}">15/03 - 20/03</span>
                                </span>
                                <span class="meta-item">
                                    <i class="bi bi-geo-alt"></i>
                                    <span th:text="${tournament.tinhThanh}">TP.HCM</span>
                                </span>
                            </div>
                            <div class="featured-footer">
                                <span class="tournament-category" th:text="${tournament.capDo}">Chuy√™n nghi·ªáp</span>
                                <a th:href="@{/tournaments/{id}(id=${tournament.id})}" class="btn-view-detail">
                                    Chi ti·∫øt <i class="bi bi-arrow-right"></i>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Empty State: Kh√¥ng c√≥ gi·∫£i ƒë·∫•u n·ªïi b·∫≠t -->
                <div class="empty-state" th:if="${featuredTournaments.isEmpty()}" data-aos="fade-up">
                    <div class="empty-state-icon">
                        <i class="bi bi-star"></i>
                    </div>
                    <h3 class="empty-state-title">Ch∆∞a c√≥ gi·∫£i ƒë·∫•u n·ªïi b·∫≠t</h3>
                    <p class="empty-state-message">
                        Hi·ªán t·∫°i ch∆∞a c√≥ gi·∫£i ƒë·∫•u n√†o ƒë∆∞·ª£c ƒë√°nh d·∫•u n·ªïi b·∫≠t. H√£y quay l·∫°i sau ƒë·ªÉ kh√°m ph√° nh·ªØng gi·∫£i ƒë·∫•u h·∫•p d·∫´n!
                    </p>
                    <a th:href="@{/tournaments/list}" class="btn-empty-state">
                        <i class="bi bi-list-ul"></i>
                        Xem t·∫•t c·∫£ gi·∫£i ƒë·∫•u
                    </a>
                </div>
            </div>
        </section>

        <!-- Live Tournaments -->
        <section class="live-section">
            <div class="container">
                <div class="section-header" data-aos="fade-up">
                    <h2 class="section-title live-title">
                        <span class="live-indicator"></span>
                        <i class="bi bi-broadcast"></i>
                        ƒêang Di·ªÖn Ra
                    </h2>
                    <a th:href="@{/tournaments/list(status='ongoing')}" class="view-all-link" th:if="${!liveTournaments.isEmpty()}">
                        Xem t·∫•t c·∫£ <i class="bi bi-arrow-right"></i>
                    </a>
                </div>
                
                <!-- Swiper Carousel Container (hi·ªÉn th·ªã khi c√≥ data) -->
                <div class="swiper live-tournaments-swiper" th:if="${!liveTournaments.isEmpty()}" data-aos="fade-up">
                    <div class="swiper-wrapper">
                        <!-- Swiper Slides -->
                        <div class="swiper-slide" th:each="tournament : ${liveTournaments}">
                            <div class="live-card">
                                <div class="live-card-header">
                                    <img th:src="${tournament.hinhAnh}" th:alt="${tournament.tenGiai}">
                                    <div class="live-pulse">LIVE</div>
                                </div>
                                <div class="live-card-body">
                                    <h4 class="live-card-title" th:text="${tournament.tenGiai}">Gi·∫£i ƒë·∫•u</h4>
                                    <div class="live-card-meta">
                                        <span><i class="bi bi-geo-alt-fill"></i> <span th:text="${tournament.tinhThanh}">Location</span></span>
                                        <span><i class="bi bi-calendar-fill"></i> <span th:text="${tournament.ngayBatDau}">Date</span></span>
                                    </div>
                                    <div class="live-card-actions">
                                        <a th:href="@{/tournaments/{id}/live(id=${tournament.id})}" class="btn btn-live">
                                            <i class="bi bi-play-circle-fill"></i> Xem tr·ª±c ti·∫øp
                                        </a>
                                        <a th:href="@{/tournaments/{id}(id=${tournament.id})}" class="btn btn-outline">
                                            Chi ti·∫øt
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Navigation Buttons -->
                    <div class="swiper-button-prev"></div>
                    <div class="swiper-button-next"></div>
                    
                    <!-- Pagination -->
                    <div class="swiper-pagination"></div>
                </div>
                
                <!-- Empty State: Kh√¥ng c√≥ gi·∫£i ƒë·∫•u ƒëang di·ªÖn ra -->
                <div class="empty-state" th:if="${liveTournaments.isEmpty()}" data-aos="fade-up">
                    <div class="empty-state-icon live">
                        <i class="bi bi-broadcast"></i>
                    </div>
                    <h3 class="empty-state-title">Hi·ªán kh√¥ng c√≥ gi·∫£i ƒë·∫•u n√†o ƒëang di·ªÖn ra</h3>
                    <p class="empty-state-message">
                        Kh√¥ng c√≥ gi·∫£i ƒë·∫•u n√†o ƒëang di·ªÖn ra v√†o l√∫c n√†y. H√£y theo d√µi l·ªãch thi ƒë·∫•u ƒë·ªÉ kh√¥ng b·ªè l·ª° c√°c gi·∫£i ƒë·∫•u s·∫Øp t·ªõi!
                    </p>
                    <a th:href="@{/tournaments/calendar}" class="btn-empty-state">
                        <i class="bi bi-calendar-week"></i>
                        Xem l·ªãch thi ƒë·∫•u
                    </a>
                </div>
            </div>
        </section>

        <!-- Quick Navigation -->
        <section class="navigation-section">
            <div class="container">
                <div class="section-header" data-aos="fade-up">
                    <h2 class="section-title">
                        <i class="bi bi-compass"></i>
                        Kh√°m ph√° Gi·∫£i ƒë·∫•u
                    </h2>
                </div>
                
                <div class="nav-cards-grid">
                    <a th:href="@{/tournaments/list}" class="nav-card" data-aos="flip-left" data-aos-delay="0">
                        <div class="nav-card-icon" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
                            <i class="bi bi-list-ul"></i>
                        </div>
                        <h3 class="nav-card-title">Danh s√°ch Gi·∫£i ƒë·∫•u</h3>
                        <p class="nav-card-description">Xem t·∫•t c·∫£ c√°c gi·∫£i ƒë·∫•u v·ªõi b·ªô l·ªçc chi ti·∫øt</p>
                    </a>
                    
                    <a th:href="@{/tournaments/calendar}" class="nav-card" data-aos="flip-left" data-aos-delay="100">
                        <div class="nav-card-icon" style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);">
                            <i class="bi bi-calendar4-week"></i>
                        </div>
                        <h3 class="nav-card-title">L·ªãch Gi·∫£i ƒë·∫•u</h3>
                        <p class="nav-card-description">Xem l·ªãch thi ƒë·∫•u theo ng√†y, tu·∫ßn, th√°ng</p>
                    </a>
                    
                    <a th:href="@{/tournaments/list(status='ongoing')}" class="nav-card" data-aos="flip-left" data-aos-delay="200">
                        <div class="nav-card-icon" style="background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);">
                            <i class="bi bi-play-circle-fill"></i>
                        </div>
                        <h3 class="nav-card-title">Tr·∫≠n ƒë·∫•u Tr·ª±c ti·∫øp</h3>
                        <p class="nav-card-description">Theo d√µi c√°c tr·∫≠n ƒë·∫•u ƒëang di·ªÖn ra</p>
                    </a>
                    
                    <a th:href="@{/tournaments/list(status='registration')}" class="nav-card" data-aos="flip-left" data-aos-delay="300">
                        <div class="nav-card-icon" style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);">
                            <i class="bi bi-pencil-square"></i>
                        </div>
                        <h3 class="nav-card-title">ƒêƒÉng k√Ω Tham gia</h3>
                        <p class="nav-card-description">ƒêƒÉng k√Ω c√°c gi·∫£i ƒë·∫•u ƒëang m·ªü</p>
                    </a>
                </div>
            </div>
        </section>

        <!-- Tournament Categories -->
        <section class="categories-section">
            <div class="container">
                <div class="section-header" data-aos="fade-up">
                    <h2 class="section-title">
                        <i class="bi bi-grid-3x3-gap"></i>
                        Danh m·ª•c Gi·∫£i ƒë·∫•u
                    </h2>
                </div>
                
                <div class="categories-grid">
                    <a th:href="@{/tournaments/list(category='professional')}" 
                       class="category-card" data-aos="zoom-in">
                        <div class="category-icon">üèÜ</div>
                        <h3 class="category-title">Chuy√™n nghi·ªáp</h3>
                        <p class="category-count" th:text="${statsByStatus.getOrDefault('professional', 0)} + ' gi·∫£i ƒë·∫•u'">12 gi·∫£i ƒë·∫•u</p>
                    </a>
                    
                    <a th:href="@{/tournaments/list(category='amateur')}" 
                       class="category-card" data-aos="zoom-in" data-aos-delay="100">
                        <div class="category-icon">‚≠ê</div>
                        <h3 class="category-title">Nghi·ªáp d∆∞</h3>
                        <p class="category-count">8 gi·∫£i ƒë·∫•u</p>
                    </a>
                    
                    <a th:href="@{/tournaments/list(category='club')}" 
                       class="category-card" data-aos="zoom-in" data-aos-delay="200">
                        <div class="category-icon">üéØ</div>
                        <h3 class="category-title">C√¢u l·∫°c b·ªô</h3>
                        <p class="category-count">15 gi·∫£i ƒë·∫•u</p>
                    </a>
                    
                    <a th:href="@{/tournaments/list(category='youth')}" 
                       class="category-card" data-aos="zoom-in" data-aos-delay="300">
                        <div class="category-icon">üåü</div>
                        <h3 class="category-title">Thanh thi·∫øu ni√™n</h3>
                        <p class="category-count">6 gi·∫£i ƒë·∫•u</p>
                    </a>
                    
                    <a th:href="@{/tournaments/list(category='corporate')}" 
                       class="category-card" data-aos="zoom-in" data-aos-delay="400">
                        <div class="category-icon">üè¢</div>
                        <h3 class="category-title">Doanh nghi·ªáp</h3>
                        <p class="category-count">10 gi·∫£i ƒë·∫•u</p>
                    </a>
                    
                    <a th:href="@{/tournaments/list}" 
                       class="category-card all" data-aos="zoom-in" data-aos-delay="500">
                        <div class="category-icon">üîç</div>
                        <h3 class="category-title">Xem t·∫•t c·∫£</h3>
                        <p class="category-count" th:text="${quickStats.total} + ' gi·∫£i ƒë·∫•u'">51 gi·∫£i ƒë·∫•u</p>
                    </a>
                </div>
            </div>
        </section>

        <!-- Call to Action -->
        <section class="cta-section">
            <div class="container">
                <div class="cta-content" data-aos="fade-up">
                    <h2 class="cta-title">S·∫µn s√†ng tham gia gi·∫£i ƒë·∫•u ti·∫øp theo?</h2>
                    <p class="cta-description">
                        ƒêƒÉng k√Ω ngay ƒë·ªÉ kh√¥ng b·ªè l·ª° c∆° h·ªôi thi ƒë·∫•u v·ªõi c√°c tuy·ªÉn th·ªß h√†ng ƒë·∫ßu
                    </p>
                    <div class="cta-buttons">
                        <a th:href="@{/tournaments/list(status='registration')}" class="btn btn-primary btn-lg">
                            <i class="bi bi-pencil-square"></i>
                            ƒêƒÉng k√Ω ngay
                        </a>
                        <a th:href="@{/tournaments/calendar}" class="btn btn-outline-light btn-lg">
                            <i class="bi bi-calendar-check"></i>
                            Xem l·ªãch thi ƒë·∫•u
                        </a>
                    </div>
                </div>
            </div>
        </section>

    </div>

    <!-- Page-specific JavaScript -->
    <th:block layout:fragment="page-scripts">
        <script th:src="@{/js/tournament/tournament-home.js}"></script>
    </th:block>
</body>
</html>
